{% include "topBar.html" %} {% block siteTitle %}
<title> UMW Training - Add User </title> {% endblock %}


<!-- this line is magical -->
{% include "adminSideMenu.html" -%}



<!-- **********************************************************************************************************************************************************
      MAIN CONTENT
      *********************************************************************************************************************************************************** -->
<!--main content start-->
<section id="main-content">
    <section class="wrapper site-min-height">
<!-- Chris wrote most of this stuff here too -->
        <div class="row mt">
            <div class="col-lg-12">
                {% with messages = get_flashed_messages() %} {% if messages %}
                <div class="alert alert-danger" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Error:</span>
                    <ul>


                        {% for message in messages %}

                        <li>{{ message }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %} {% endwith %}
            </div>
            <div class="col-lg-12 ">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3>Add Users By File</h3></div>
                    <div class="panel-body">
                        <div class="addUserByFile">
                            <!--<p style="text-align:left;">Add users by file upload: </p>-->
                            <form method="post" action="/aAddUser" enctype=multipart/form-data class="text-center">
                                <!-- this is the browse button -->

                                <input id="browsFile" type="file" value="Browse" name="browse_file" accept=".CSV" style="display:inline-block;" />

                                <!-- , application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel -->

                                <!-- this is the submit button -->
                                <button class="btn btn-primary" id="submitFile" type="submit" name="submit_file" disabled=true>Submit File</button>

                                <script>
                                    document.getElementById("browsFile").onchange = function() {
                                        var x;
                                        if (document.getElementById("browsFile").files.length == 0) {
                                            console.log("no files selected");
                                        }
                                        else {
                                            document.getElementById("submitFile").disabled = false;
                                        }
                                    }
                                </script>
                            </form>
                        </div>
                    </div>
                </div>
<!-- Chris changed it from a table display to a few form displays here -->

<!-- add single -->
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3>Add Single Student</h3></div>
                    <div class="panel-body">
                        <form method="post" , action="/add_single_student">

                            <div class="form-group">
                                <label for="usr">First Name:</label>
                                <input type="text" class="form-control" name="student_first_name">
                            </div>
                            
                            <div class="form-group">
                                <label for="usr">Last Name:</label>
                                <input type="text" class="form-control" name="student_last_name">
                            </div>
                            
                            <div class="form-group">
                                <label for="usr">Username:</label>
                                <input type="text" class="form-control" name="student_username">
                            </div>
                            
                            <div class="form-group">
                                <label for="usr">Password:</label>
                                <input type="text" class="form-control" name="student_password">
                            </div>
                            
                            <div class="form-group">
                                <label for="usr">Email:</label>
                                <input type="text" class="form-control" name="student_email">
                            </div>
                            
                            <div class="form-group">
                                <label for="usr">Sport:</label>
                                <input type="text" class="form-control" name="student_sport">
                            </div>
                            
                            <div class="form-group">
                                <label for="usr">Year:</label>
                                <input type="text" class="form-control" name="student_year">
                            </div>
                                
<!-- Here is the old table code -->
                                <!--<table class="table" style="color:white; background-color: #5496cf; border: 1px solid lightgrey;">-->

                                <!--    <thead>-->
                                <!--        <tr>-->
                                <!--            <th>First Name</th>-->
                                <!--            <th>Last Name</th>-->
                                <!--            <th>Username</th>-->
                                <!--            <th>Email</th>-->
                                <!--            <th>Sport</th>-->
                                <!--            <th>Year</th>-->
                                <!--        </tr>-->
                                <!--    </thead>-->
                                <!--    <tbody>-->
                                <!--        <tr>-->
                                <!--            <td style="color:black; background-color: white;">-->

                                <!--                <input type "text" size=10 name="first_name" style="margin-left: 10px; margin-right: 10px;" maxlength="20">-->

                                <!--            </td>-->
                                <!--            <td style="color:black; background-color: white;">-->

                                <!--                <input type "text" size=10 name="last_name" style="margin-left: 10px; margin-right: 10px;" maxlength="20">-->

                                <!--            </td>-->
                                <!--            <td style="color:black; background-color: white;">-->
                                <!--                <input tpe="text" size=10 name="username" style="margin-left: 10px; margin-right: 10px;" maxlength="20">-->
                                <!--            </td>-->
                                <!--            <td style="color:black; background-color: white;">-->
                                <!--                <input type="text" size=10 name="email" style="margin-left: 10px; margin-right: 10px;">-->
                                <!--            </td>-->
                                <!--            <td style="color:black; background-color: white;">-->
                                <!--                <input type="text" size=10 name="sport" style="margin-left: 10px; margin-right: 10px;">-->
                                <!--            </td>-->
                                <!--            <td style="color:black; background-color: white;">-->
                                <!--                <input type="text" size=10 name="year" style="margin-left: 10px; margin-right: 10px;">-->
                                <!--            </td>-->
                                <!--        </tr>-->
                                <!--    </tbody>-->
                                <!--</table>-->
                                </br>
                                {% if badName %}
                                <p style="color:red">Error: First Name must be entered for a valid entry.</p>
                                {% endif %} {% if exerciseCreated %}
                                <p style="color:black">User Added</p>
                                </p>
                                {% endif %}
                                <button class="btn btn-primary" type="submit">Submit</button>

                        </form>
                        </div>
                    </div>

<!-- add single admin-->

                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>Add Single Admin</h3></div>
                        <div class="panel-body">
                            <form method="post" , action="/add_single_admin">

                                <div class="form-group">
                                    <label for="usr">First Name:</label>
                                    <input type="text" class="form-control" name="admin_first_name">
                                </div>
                                <div class="form-group">
                                    <label for="usr">Last Name:</label>
                                    <input type="text" class="form-control" name="admin_last_name">
                                    <div class="form-group">
                                        <label for="usr">Username:</label>
                                        <input type="text" class="form-control" name="admin_username">
                                    </div>
                                    <div class="form-group">
                                        <label for="usr">Email:</label>
                                        <input type="email" class="form-control" name="admin_email">
                                    </div>

                                    </br>
                                    {% if badName %}
                                    <p style="color:red">Error: First Name must be entered for a valid entry.</p>
                                    {% endif %} {% if exerciseCreated %}
                                    <p style="color:black">User Added</p>
                                    </p>
                                    {% endif %}
                                    <button class="btn btn-primary" type="submit">Submit</button>

                            </form>
                            </div>
                        </div>
                    </div>

<!-- list of users-->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3>Current Users</h3></div>
                        <div class="panel-body">
                            <center>
                                <table class="table" style="color:white; background-color: #5496cf;">
                                    <tr>
                                        <td style="padding-top: 10px; padding-left: 10px; padding-right: 10px; border: 1px solid #4684db;">
                                            <center>Action</center>
                                        </td>
                                        <td style="padding-top: 10px; padding-left: 10px; padding-right: 10px; border: 1px solid #4684db;">
                                            <center>
                                                <p style="width: 100px padding:7px">Username</p>
                                            </center>
                                        </td>
                                        <td style="padding-top: 10px; padding-left: 10px; padding-right: 10px; border: 1px solid #4684db; width: 100px">
                                            <center>
                                                <p style="width: 100px padding:7px">User Type</p>
                                            </center>
                                        </td>
                                        <td style="padding-top: 10px; padding-left: 10px; padding-right: 10px; border: 1px solid #4684db;">
                                            <center>
                                                <p style="width: 100px padding:7px">First Name</p>
                                            </center>
                                        </td>
                                        <td style="padding-top: 10px; padding-left: 10px; padding-right: 10px; border: 1px solid #4684db;">
                                            <center>
                                                <p style="width: 100px padding:7px">Last Name</p>
                                            </center>
                                        </td>
                                        <td style="padding-top: 10px; padding-left: 10px; padding-right: 10px; border: 1px solid #4684db;">
                                            <center>
                                                <p style="width: 100px padding:7px">E-mail</p>
                                            </center>
                                        </td>
                                    </tr>
                                    {% for result in results %}
                                    <tr>
                                        <td style="color:black; background-color: white; padding-top: 10px; padding-bottom: 10px; border: 1px solid lightgrey;">
                                            <center>
                                                <table>
                                                    <tr>
                                                        <td>
                                                            <form method="post" , action="/aAddUser">
                                                                <input style="margin-right: 3px; margin-left: 3px; margin-top: 5px; margin-bottom: -12px;" type="submit" value="Edit" name="action">
                                                                <input class="astext" type="hidden" value="{{result[0]}}" name="user">
                                                            </form>
                                                        </td>
                                                        <td>
                                                            <form method="post" , action="/aAddUser">
                                                                <input style="margin-right: 3px; margin-top: 5px; margin-bottom: -12px;" onclick="confirmDelete()" type="submit" value="Delete" name="action">
                                                                <input class="confirm" type="hidden" value="" name="confirmD">
                                                                <input type="hidden" value="{{result[0]}}" name="user">

                                                                <script>
                                                                    function confirmDelete() {
                                                                        var x;
                                                                        if (confirm("Are you sure you want to delete?") == true) {
                                                                            x = "Delete";
                                                                        }
                                                                        else {
                                                                            x = "NoDelete";
                                                                        }

                                                                        var elements = document.getElementsByClassName("confirm");
                                                                        for (var i = 0; i < elements.length; i++) {
                                                                            elements[i].value = x;
                                                                        }
                                                                    }
                                                                </script>

                                                            </form>
                                                        </td>
                                                        <td>
                                                            <form method="post" , action="/aAddUser">
                                                                <input style="margin-right: 3px; margin-top: 5px; margin-bottom: -12px;" type="submit" value="View" name="action">
                                                                <input class="astext" type="hidden" value="{{result[0]}}" name="user">
                                                            </form>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </center>
                                        </td>

                                        <td style="color:black; background-color: white; padding-top: 10px; padding-bottom: 10px; border: 1px solid lightgrey;">
                                            <center style=" padding-left: 10px; padding-right: 10px;">{{result[0]}}</center>
                                        </td>

                                        <td style="color:black; background-color: white; padding-top: 10px; padding-bottom: 10px; border: 1px solid lightgrey;">

                                            <center style=" padding-left: 10px; padding-right: 10px;">{{types[results.index(result)]}}</center>
                                        </td>
                                        <td style="color:black; background-color: white; padding-top: 10px; padding-bottom: 10px; border: 1px solid lightgrey;">
                                            <center style=" padding-left: 10px; padding-right: 10px;">{{result[1]}}</center>
                                        </td>
                                        <td style="color:black; background-color: white; padding-top: 10px; padding-bottom: 10px; border: 1px solid lightgrey;">
                                            <center style=" padding-left: 10px; padding-right: 10px;">{{result[2]}}</center>
                                        </td>
                                        <td style="color:black; background-color: white; padding-top: 10px; padding-bottom: 10px; border: 1px solid lightgrey;">
                                            <center style=" padding-left: 10px; padding-right: 10px;">{{result[3]}}</center>
                                        </td>
                                    </tr>

                                    {% endfor %}
                                </table>
                                <br>
                                <br>
                            </center>


                        </div>
                    </div>

                </div>
            </div>

    </section>
    <! --/wrapper -->
</section>
<!-- Chris may have just stopped here -->

<!-- /MAIN CONTENT -->

<!--main content end-->
<!--footer start-->
<footer class="site-footer">
    <div class="text-center">
        2016 - UMW Training Program
        <a href="aAddUser" class="go-top">
            <i class="fa fa-angle-up"></i>
        </a>
    </div>
</footer>
<!--footer end-->
</section>

<!-- js placed at the end of the document so the pages load faster -->
<script src="assets/js/jquery.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/jquery-ui-1.9.2.custom.min.js"></script>
<script src="assets/js/jquery.ui.touch-punch.min.js"></script>
<script class="include" type="text/javascript" src="assets/js/jquery.dcjqaccordion.2.7.js"></script>
<script src="assets/js/jquery.scrollTo.min.js"></script>
<script src="assets/js/jquery.nicescroll.js" type="text/javascript"></script>


<!--common script for all pages-->
<script src="assets/js/common-scripts.js"></script>

<!--script for this page-->

<script>
    //custom select box

    $(function() {
        $('select.styled').customSelect();
    });
</script>

</body>

</html>
